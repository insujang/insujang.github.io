<!DOCTYPE html>
<html lang='en' ><meta charset="utf-8">
<meta name="viewport" content="width=device-width">


<title>Kubernetes | Better Tomorrow with Computer Science</title>
<link rel="stylesheet" href="/css/eureka.min.css">
<script defer src="/js/eureka.min.js"></script>

<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preload"
  href="https://fonts.googleapis.com/css2?family=Lora:wght@400;600;700&family=Noto+Serif+SC:wght@400;600;700&display=swap"
  as="style" onload="this.onload=null;this.rel='stylesheet'">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.0/build/styles/solarized-light.min.css"
   media="print"
  onload="this.media='all';this.onload=null" crossorigin>
<script defer src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.0/build/highlight.min.js"
   crossorigin></script>
<script defer src="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.14.0/js/all.min.js"
   integrity="sha256-uNYoXefWRqv&#43;PsIF/OflNmwtKM4lStn9yrz2gVl6ymo="  crossorigin></script>


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"
   integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3&#43;Aro6EYUG4&#43;cU&#43;KJWu/X"  media="print"
  onload="this.media='all';this.onload=null" crossorigin>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js" 
  integrity="sha384-g7c&#43;Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI&#43;sEnkvrMWph2EDg4"  crossorigin></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js"
   integrity="sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC&#43;Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa"  crossorigin></script>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    renderMathInElement(document.body, {
      delimiters: [
        { left: "$$", right: "$$", display: true },
        { left: "$", right: "$", display: false },
        { left: "\\(", right: "\\)", display: false },
        { left: "\\[", right: "\\]", display: true }
      ],
    });
  });
</script>
<link rel="preconnect" href="https://www.google-analytics.com" crossorigin>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-158110335-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() { dataLayer.push(arguments); }
  gtag('js', new Date());
  gtag('config', 'UA-158110335-1');
</script>


<link rel="icon" type="image/png" sizes="32x32" href="/images/icon_hu64421c6c7700f606f0ad45d807017b09_5843_32x32_fill_box_center_2.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/icon_hu64421c6c7700f606f0ad45d807017b09_5843_180x180_fill_box_center_2.png">

<meta name="description"
  content="Kubernetes Kubernetes is is an container-based cluster orchestration tool, originally implemented by Google.">
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
      "@type": "ListItem",
      "position": 1 ,
      "name":"Posts",
      "item":"/posts/"},{
      "@type": "ListItem",
      "position": 2 ,
      "name":"Kubernetes",
      "item":"/2019-11-07/kubernetes/"}]
}
</script>



<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "/2019-11-07/kubernetes/"
    },
    "headline": "Kubernetes | Better Tomorrow with Computer Science","datePublished": "2019-11-07T11:17:00+09:00",
    "dateModified": "2019-11-07T11:17:00+09:00",
    "wordCount":  599 ,
    "publisher": {
        "@type": "Person",
        "name": "Insu Jang",
        "logo": {
            "@type": "ImageObject",
            "url": "/images/icon.png"
        }
        },
    "description": "Kubernetes Kubernetes is is an container-based cluster orchestration tool, originally implemented by Google."
}
</script><meta property="og:title" content="Kubernetes | Better Tomorrow with Computer Science" />
<meta property="og:type" content="article" />


<meta property="og:image" content="/images/icon.png">


<meta property="og:url" content="/2019-11-07/kubernetes/" />




<meta property="og:description" content="Kubernetes Kubernetes is is an container-based cluster orchestration tool, originally implemented by Google." />




<meta property="og:locale" content="en" />




<meta property="og:site_name" content="Better Tomorrow with Computer Science" />






<meta property="article:published_time" content="2019-11-07T11:17:00&#43;09:00" />


<meta property="article:modified_time" content="2019-11-07T11:17:00&#43;09:00" />



<meta property="article:section" content="posts" />


<meta property="article:tag" content="kubernetes" />

<meta property="article:tag" content="research" />





<meta property="og:see_also" content="/2019-10-31/container-runtime/" />

<meta property="og:see_also" content="/2019-10-10/open-container-initiative-image-spec/" />

<meta property="og:see_also" content="/2019-02-07/implementing-a-new-custom-netlink-family-protocol/" />

<meta property="og:see_also" content="/2018-11-28/udev-function-flow-for-kobject_uevent-kernel-group-message/" />

<meta property="og:see_also" content="/2018-11-27/udev-device-manager-for-the-linux-kernel-in-userspace/" />

<meta property="og:see_also" content="/2018-11-22/systemd-boot-process/" />



<body class="flex flex-col min-h-screen">
  <header class="fixed flex items-center w-full min-h-16 pl-scrollbar z-50 bg-secondary-bg shadow-sm">
    <div class="w-full max-w-screen-xl mx-auto"><script>
    let storageColorScheme = localStorage.getItem("lightDarkMode")
    if ((storageColorScheme == 'Auto' && window.matchMedia("(prefers-color-scheme: dark)").matches) || storageColorScheme == "Dark") {
        document.getElementsByTagName('html')[0].classList.add('dark')
    }
</script>
<nav class="flex items-center justify-between flex-wrap p-4">
    <a href="/" class="mr-6 text-primary-text font-bold">Better Tomorrow with Computer Science</a>
    <button id="navbar-btn" class="md:hidden flex items-center px-3 py-2" aria-label="Open Navbar">
        <i class="fas fa-bars"></i>
    </button>

    <div id="target"
        class="hidden block md:flex md:flex-grow md:justify-between md:items-center w-full md:w-auto text-primary-text z-20">
        <div class="text-sm md:flex-grow pb-4 md:pb-0 border-b md:border-b-0">
            <a href="/#about"
                class="block mt-4 md:inline-block md:mt-0  hover:text-eureka mr-4">About</a>
            <a href="/posts/"
                class="block mt-4 md:inline-block md:mt-0  hover:text-eureka mr-4">Posts</a>
        </div>

        <div class="flex">
            <div class="relative pt-4 md:pt-0">
                <div class="cursor-pointer hover:text-eureka" id="lightDarkMode">
                    <i class="fas fa-sun"></i>
                </div>
                <div class="fixed hidden inset-0 opacity-0 h-full w-full cursor-default z-30" id="is-open">
                </div>
                <div class="absolute flex flex-col left-0 md:left-auto right-auto md:right-0 hidden bg-secondary-bg w-48 rounded py-2 border border-tertiary-bg cursor-pointer z-40"
                    id='lightDarkOptions'>
                    <span class="px-4 py-1 hover:text-eureka">Light</span>
                    <span class="px-4 py-1 hover:text-eureka">Dark</span>
                    <span class="px-4 py-1 hover:text-eureka">Auto</span>
                </div>
            </div>
        </div>
    </div>

    <div class="fixed hidden inset-0 opacity-0 h-full w-full cursor-default z-0" id="is-open-mobile">
    </div>

</nav>
<script>
    let element = document.getElementById('lightDarkMode')
    if (storageColorScheme == 'Auto') {
        element.firstElementChild.classList.remove('fa-sun')
        element.firstElementChild.setAttribute("data-icon", 'adjust')
        element.firstElementChild.classList.add('fa-adjust')
        document.addEventListener('DOMContentLoaded', () => {
            switchMode('Auto')
        })
    } else if (storageColorScheme == "Dark") {
        element.firstElementChild.classList.remove('fa-sun')
        element.firstElementChild.setAttribute("data-icon", 'moon')
        element.firstElementChild.classList.add('fa-moon')
    }
    
    document.addEventListener('DOMContentLoaded', () => {
        getcolorscheme();
        switchBurger();
    });
</script></div>
  </header>
  <main class="flex-grow pt-16">
      <div class="w-full max-w-screen-xl lg:px-4 xl:px-8 mx-auto">


<div class="lg:pt-12"></div>
<div
    class="col-span-2 lg:col-start-2 lg:col-span-6 bg-secondary-bg rounded px-6 py-8">
    <h1 class="font-bold text-3xl text-primary-text">Kubernetes</h1>
    <div class="mr-6 my-2">
    <span>Nov 7, 2019</span>
</div>




    
    
    

    <div class="content">
        <h2 id="kubernetes">Kubernetes</h2>
<p>Kubernetes is is an container-based cluster orchestration tool, originally implemented by Google. It manages containerized workloads and services in clusters.</p>
<blockquote>
<p><em><strong>Kubernetes is really an orchestration tool?</strong></em></p>
<p>Kubernetes does not call itself as an orchestration system, due to its different behaviors from the technical definition of <em>&ldquo;orchestration&rdquo;</em>.</p>
<blockquote>
<p>Orchestration (from <a href="https://en.wikipedia.org/wiki/Orchestration_(computing)">[Wikipedia]</a>)</p>
<p>Orchestration is the automated configuration, coordination, and management of computer systems and software.</p>
</blockquote>
<blockquote>
<p>Orchestration (from <a href="https://www.bmc.com/blogs/it-orchestration-vs-automation-whats-the-difference/">[bmc]</a>)</p>
<p>The goal of orchestration is to streamline and optimize frequent, repeatable processes to ensure accurate, speedier deployment of software.
Anytime a process is repeatable and its tasks can be automated, orchestration can be used to optimize the process in order to eliminate redundancies.</p>
</blockquote>
<blockquote>
<p>Orchestration (from <a href="https://kubernetes.io/docs/concepts/overview/what-is-kubernetes/#what-kubernetes-is-not">[Kubernetes]</a>)</p>
<p>In fact, Kubernetes eliminates the need for orchestration. The technical definition of orchestration is execution of a defined workflow: first do A, then B, then C. In contrast, Kubernetes comprises a set of independent, composable control processes that continuously drive the current state towards the provided desired state. It shouldnâ€™t matter how you get from A to C.</p>
</blockquote>
</blockquote>
<p>Well.. It depends on where to focus, but I rather think it is likely an orchestration tool.</p>
<p>Kubernetes manages <em>a cluster</em>, a set of machines (whether VMs or just physical machines). Each machine can be either:</p>
<ul>
<li>A master node: the cluster&rsquo;s control plane. A cluster can contain multiple masters, which does not mean, however, they can serve multiple clusters, rather serves as backup nodes for the control plane for cluster&rsquo;s high availability. It manages worker nodes.</li>
<li>A (worker) node: hosts pods that are the components of applications. Actual user application workloads will be run in the worker nodes.</li>
</ul>
<blockquote>
<p>Master and Worker <strong>nodes</strong> are differnt from <strong>components</strong> from <a href="https://kubernetes.io/docs/concepts/overview/components/">here</a>, I think.
The document says node components run on every node, which means including master nodes.</p>
</blockquote>
<p><img src="/assets/images/191107/Kubernetes.png" alt="kubernetes architecture">
<em>Kubernetes architecture.</em></p>
<p>A master node contains the following Kubernetes components:</p>
<ul>
<li>A master node: kube-apiserver, etcd, kube-scheduler, kube-controller-manager, cloud-controller-manager, and all node components</li>
<li>A worker node: all node components (kubelet, kube-proxy, and container runtime)</li>
</ul>
<p>Details are well explained in <a href="https://kubernetes.io/docs/concepts/overview/components/">[here]</a>.</p>
<p><img src="/assets/images/191107/Kubernetes-architecture.png" alt="kubernets architecture with runtime">
<em>Kubernetes architecture illustrating Container Runtime as Docker. Kubernetes currently support Docker, containerd, and CRI-O as its container runtime. <a href="https://blog.sensu.io/how-kubernetes-works">[Image Source]</a></em></p>
<h2 id="podshttpskubernetesiodocsconceptsworkloadspodspod-overview"><a href="https://kubernetes.io/docs/concepts/workloads/pods/pod-overview/">Pods</a></h2>
<p>A pod is a set of containers, the basic execution unit of a Kubernetes application, and <strong>the smallest unit in Kubernetes object model</strong>.
This means the unit of deployment and migration is a pod, not a container. We should make a pod for our containerized application. It can contain only a single container, or multiple containers are allowed as well. If a pod contains multiple containers, they should be deployed together into the same worker node.</p>
<p>Why the Pod is introduced? In my thought it is mainly because communications between containers. Kubernetes runs with multiple nodes in the cluster and orchestrates applications, so applications do not know which node they will run on. Then how applications communicate each other without any knowledge (e.g. such as IP address) of nodes? The answer from Kubernetes is: <strong>use <code>localhost</code>.</strong></p>
<blockquote>
<p>Containers within a Pod share an IP address and port space, and can find each other via <code>localhost</code>. They can also communicate with each other using standard inter-process communications like SystemV semaphores or POSIX shared memory.</p>
<p><a href="https://kubernetes.io/docs/concepts/workloads/pods/pod/#what-is-a-pod">What is a Pod? Kubernetes</a></p>
</blockquote>
<p>Hence containerized applications in each pod are slightly different from traditional containers; those in the same pod share some namespaces: netns, ipcns, and optionally pidns.</p>
<p><img src="/assets/images/191107/pod-architecture.png" alt="pod architecture">
<em>Pod architecture. <a href="https://developers.redhat.com/blog/2019/01/15/podman-managing-containers-pods/">[source]</a></em></p>
<p>Those shared Linux kernel resources are held by <code>pause process</code> in Infra container. The infra container is created algonside the corresponding pod, and whenever each container is created into the pod, its namespace and cgroup are shared to the container.</p>

    </div>
    
    <div class="my-4">
    
    <a href="/tags/kubernetes/" class="inline-block bg-tertiary-bg text-sm rounded px-3 py-1 my-1 mr-2 hover:text-eureka">#kubernetes</a>
    
    <a href="/tags/research/" class="inline-block bg-tertiary-bg text-sm rounded px-3 py-1 my-1 mr-2 hover:text-eureka">#research</a>
    
</div>
    
    
    
    
    
    
    
<div class="flex flex-col md:flex-row md:justify-between -mx-2 mt-4 px-2 pt-4 border-t">
    <div>
        
        <span class="block font-bold">Previous</span>
        <a href="/2019-11-10/code-server/" class="block">Code Server: Using vscode via Web Browsers</a>
        
    </div>
    <div class="md:text-right mt-4 md:mt-0">
        
        <span class="block font-bold">Next</span>
        <a href="/2019-10-31/container-runtime/" class="block">Container Runtime</a>
        
    </div>
</div>

    

<div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "insujang" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


</div>




<div
    class="col-span-2 lg:col-start-2 lg:col-span-6 bg-secondary-bg rounded p-6">
    <h2 class="text-lg font-semibold mb-4">See Also</h2>
    <div class="content">
        
        <a href="/2019-10-31/container-runtime/">Container Runtime</a>
        <br />
        
        <a href="/2019-10-10/open-container-initiative-image-spec/">Open Container Initiative (OCI) Standard, Image Spec</a>
        <br />
        
        <a href="/2019-02-07/implementing-a-new-custom-netlink-family-protocol/">Implementing a New Custom Netlink Family Protocol</a>
        <br />
        
        <a href="/2018-11-28/udev-function-flow-for-kobject_uevent-kernel-group-message/">udev: Function Flow for KOBJECT_UEVENT kernel group message </a>
        <br />
        
        <a href="/2018-11-27/udev-device-manager-for-the-linux-kernel-in-userspace/">udev: Device Manager for the Linux Kernel in Userspace</a>
        <br />
        
        <a href="/2018-11-22/systemd-boot-process/">systemd Boot Process</a>
        <br />
        
    </div>
</div>

</div>
<script>
    document.addEventListener('DOMContentLoaded', ()=>{
        hljs.initHighlightingOnLoad();
    })
</script>

      </div>
    
  </main>
  <footer class="pl-scrollbar">
    <div class="w-full max-w-screen-xl mx-auto"><div class="text-center p-6 pin-b">
    <p class="text-sm text-tertiary-text">&copy; 2017 - 2021 Insu Jang &middot;  Powered by the <a href="https://github.com/wangchucheng/hugo-eureka" class="hover:text-eureka">Eureka</a> theme for <a href="https://gohugo.io" class="hover:text-eureka">Hugo</a></p>
</div></div>
  </footer>
</body>

</html>